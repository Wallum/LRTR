//
//excluded parts
//
//kerbals don't resize
@PART[kerbalEVA*]:BEFORE[zLRTR]
{
	lrtrExclude = true
}

//
//game balance fixes
//
//first cockpit shouldn't be space rated
@PART[Mark1Cockpit]:BEFORE[zLRTR]
{
	!MODULE[ModuleReactionWheel] {}
	!RESOURCE[MonoPropellant] {}
}

//make tiny supplies tanks radial mountable
@PART[kerbalism-container-inline-0625]:FOR[zLRTR]
{
	@attachRules = 1,1,1,1,0
}

//thrust mods.  Higher means flatter curve, parts can also be excluded by having flat thrust.  600 works well for squad parts.
//parts excluded from thrust curve
@PART[bluedog_*]:HAS[@MODULE[ModuleEngines*]]:BEFORE[zLRTR]:NEEDS[!SMURFF|!RealismOverhaul]
{
    %lrtr_flatThrust = true
}

@PART[*]:HAS[@MODULE[ModuleEngines*],~lrtr_flatThrust[true]]:BEFORE[zLRTR]:NEEDS[!SMURFF|!RealismOverhaul]
{
	@MODULE,*:HAS[#name[ModuleEngines*]]
	{
        %lrtr_thrustCurve = 600    
        @UPGRADES
        {
            @UPGRADE,*
            {
                %lrtr_thrustCurve = 600
            }
        }
    }
}

//
//LRTR mod add-ons
//
// Add range safety
@PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[0]]:AFTER[LRTR]
{
	MODULE
	{
		name = ModuleRangeSafety
	}
}

//
//bug fixes
//
//liquidEngine3_v2 has two rescaleFactor entries as of 1.7.3
@PART[liquidEngine3_v2]:BEFORE[zLRTR]:NEEDS[!SMURFF|!RealismOverhaul]
{
    -rescaleFactor = 1.0
    rescaleFactor = 1.0
}

//won't resize normally as of 1.7.3.  not sure what's going wrong, this fixes it
@PART[MEMLander]:BEFORE[zLRTR]:NEEDS[!SMURFF|!RealismOverhaul]
{
    @rescaleFactor = 1.6
}

//breaking ground robotic parts glitch in VAB when resized as of 1.7.3
@PART[*]:HAS[@MODULE[ModuleRobotic*]]:BEFORE[zLRTR]
{
	lrtrExclude = true
}
